{"version":3,"file":"bundle.js","mappings":";;;;;;;;;;;;;;;AAAgC;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;;AAEA;AACA;AACA,MAAM,mDAAmD,8BAA8B;AACvF;AACA;AACA,MAAM,qCAAqC,4BAA4B;;AAEvE;AACA;AACA;AACA;AACA,cAAc;AACd;AACA;AACA,SAAS;AACT;;AAEA;AACA;AACA;AACA,8CAA8C,+CAAM,yBAAyB,+CAAM,yBAAyB,+CAAM;AAClH,6CAA6C,+CAAM,yBAAyB,+CAAM,yBAAyB,+CAAM;AACjH,UAAU;AACV;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA,aAAa;AACb;;;AAGA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,iEAAe,UAAU;;;;;;;;;;;;;;AC7EzB;AACA;AACA,sBAAsB,oCAAoC;AAC1D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+BAA+B,UAAU,MAAM,SAAS;AACxD,sDAAsD,WAAW;AACjE,oDAAoD,iBAAiB;AACrE;AACA;AACA;AACA,8DAA8D,WAAW;AACzE;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,+CAA+C,IAAI,WAAW,WAAW;AACzE;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,iEAAe,IAAI;;;;;;;;;;;;;;AC3CnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA,SAAS;AACT;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,uBAAuB;AACvB;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA,iBAAiB;AACjB;AACA;AACA,iBAAiB;AACjB,SAAS;AACT;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oCAAoC,QAAQ;AAC5C;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;;AAEA;AACA;AACA;AACA;AACA,iEAAe,KAAK;;;;;;;;;;;;;;AC1EpB;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,iEAAe,KAAK;;;;;;;;;;;;;;;;AC5CY;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AAIA;AACA;AACA;AACA;AACA;AACA,gCAAgC,+CAAO;AACvC,8BAA8B,+CAAO;AACrC;AACA;AACA;AACA;AACA,qDAAqD,OAAO;AAC5D;AACA,QAAQ,+CAAO;AACf,oCAAoC,+CAAO;AAC3C;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,qDAAqD,OAAO;AAC5D;AACA,oCAAoC,+CAAO;AAC3C;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,mBAAmB,iBAAiB;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wCAAwC,+CAAO;AAC/C,yDAAyD,YAAY;AACrE;AACA,SAAS;AACT,KAAK;AACL;AACA,iEAAe,MAAM,EAAC;;;;;;;;;;;;;;;ACpFtB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA,KAAK;AACL;AACA,iEAAe,IAAI;;;;;;;;;;;;;;;ACrCnB;AACA,6BAA6B,OAAO;AACpC;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACiB;AACjB,iEAAe,KAAK;;;;;;UChDpB;UACA;;UAEA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;;UAEA;UACA;;UAEA;UACA;UACA;;;;;WCtBA;WACA;WACA;WACA;WACA,yCAAyC,wCAAwC;WACjF;WACA;WACA;;;;;WCPA;;;;;WCAA;WACA;WACA;WACA,uDAAuD,iBAAiB;WACxE;WACA,gDAAgD,aAAa;WAC7D;;;;;;;;;;;;;;;;;;ACNqC;AACE;AACA;AACA;AACU;AACV;AACE;AACzC;;AAEA,EAAE,4DAAI;AACN,EAAE,6DAAK;AACP,EAAE,6DAAK;AACP,EAAE,6DAAK;AACP,EAAE,kEAAU;AACZ,EAAE,6DAAK;AACP,EAAE,8DAAM;AACR,CAAC","sources":["webpack://food/./js/modules/calculator.js","webpack://food/./js/modules/cards.js","webpack://food/./js/modules/forms.js","webpack://food/./js/modules/modal.js","webpack://food/./js/modules/slider.js","webpack://food/./js/modules/tabs.js","webpack://food/./js/modules/timer.js","webpack://food/webpack/bootstrap","webpack://food/webpack/runtime/define property getters","webpack://food/webpack/runtime/hasOwnProperty shorthand","webpack://food/webpack/runtime/make namespace object","webpack://food/./js/script.js"],"sourcesContent":["import {regExp} from './slider';\nfunction calculator () {\n    const result = document.querySelector('.calculating__result > span'),\n        height = document.querySelector('#height'),\n        weight = document.querySelector('#weight'),\n        age = document.querySelector('#age'),\n        male = document.querySelector('#male'),\n        genderField = document.querySelector('#gender'),\n        activityField = document.querySelector('.calculating__choose_big');\n    let ratio, sex;\n\n    const setActiveField = (form, selector) => {\n        const fields = form.querySelectorAll('.calculating__choose-item');\n        fields.forEach(field => {\n            field.classList.remove('calculating__choose-item_active');\n        })\n        form.querySelector(selector).classList.add('calculating__choose-item_active');\n    }\n\n    if(!localStorage.getItem('ratio')){\n        localStorage.setItem('ratio', 1.375)\n    } else setActiveField(activityField, `[data-ratio=\"${localStorage.getItem('ratio')}\"]`)\n    if(!localStorage.getItem('sex')){\n        localStorage.setItem('sex', 'female')\n    } else setActiveField(genderField, `#${localStorage.getItem('sex')}`)\n\n    const validateInputs = (arr) => {\n        arr.forEach(input => {\n            if (input.value.match(/\\D/g)){\n                input.style.border = '1px solid red';\n            } else {\n                input.style.border = 'none';\n            }\n        })\n    }\n\n    const calculateDailyCalories = () => {\n        if(height.value && age.value && weight.value) {\n            male.classList.contains('calculating__choose-item_active') ?\n                dailyCalories(88.36 + (13.4 * regExp(weight.value)) + (4.8 * regExp(height.value)) - (5.7 * regExp(age.value))) :\n                dailyCalories(447.6 + (9.2 * regExp(weight.value)) + (3.1 * regExp(height.value)) - (4.3 * regExp(age.value)));\n        } else result.textContent = 'NaN';\n        validateInputs([weight, height, age]);\n    }\n\n    const setLocalStorageValue = (field) => {\n        field.dataset.ratio ? localStorage.setItem('ratio', +field.dataset.ratio) : localStorage.setItem('sex', field.id);\n    }\n    const activityValue = (form) => {\n        const field = form.querySelector('.calculating__choose-item_active');\n        return +field.dataset.ratio;\n    }\n\n    // Change activity field\n    const activityChoose = (form) => {\n        const fields = form.querySelectorAll('.calculating__choose-item');\n        fields.forEach(field =>\n            field.addEventListener('click', (e) => {\n                fields.forEach(field => {\n                    field.classList.remove('calculating__choose-item_active');\n                    field.addEventListener('click', calculateDailyCalories);\n                });\n                e.target.classList.add('calculating__choose-item_active');\n                setLocalStorageValue(e.target);\n            }));\n    };\n\n\n    activityChoose(genderField);\n    activityChoose(activityField);\n\n    const dailyCalories = (BMR) => result.textContent = Math.trunc(BMR * activityValue(activityField));\n\n    height.addEventListener('input', calculateDailyCalories);\n    weight.addEventListener('input', calculateDailyCalories);\n    age.addEventListener('input', calculateDailyCalories);\n}\nexport default calculator;","function card () {\n    class MenuCard {\n        constructor ({src, alt, title, description, price}, parentSelector, ...classes) {\n            this.src = src;\n            this.alt = alt;\n            this.title = title;\n            this.description = description;\n            this.price = price;\n            this.classes = classes;\n            this.parent = document.querySelector(parentSelector);\n        }\n        render(){\n            const element = document.createElement('div');\n            element.innerHTML = `\n                    <img src=${this.src} alt=${this.alt}>\n                    <h3 class=\"menu__item-subtitle\">${this.title}</h3>\n                    <div class=\"menu__item-descr\">${this.description}</div>\n                    <div class=\"menu__item-divider\"></div>\n                    <div class=\"menu__item-price\">\n                        <div class=\"menu__item-cost\">Цена:</div>\n                        <div class=\"menu__item-total\"><span>${this.price}</span> руб/день</div>\n                    </div>`\n            this.classes.length >= 1 ?\n                this.classes.forEach(elem => element.classList.add(elem)) :\n                element.classList.add('menu__item');\n            this.parent.append(element);\n        }\n    }\n\n    const getResource = async (url) => {\n        const res = await fetch(url);\n        if(!res.ok){\n            throw new Error(`Could not fetch ${url}, status ${res.status}`)\n        }\n        return await res.json();\n    }\n\n    // getResource('http://localhost:3000/menu')\n    //     .then(res=> res.forEach(data => new MenuCard(data, '.menu .container').render()));\n\n    axios.get('http://localhost:3000/menu')\n        .then(res=> res.data.forEach(data => new MenuCard(data, '.menu .container').render()));\n}\nexport default card;","function forms () {\n    const forms = document.querySelectorAll('form');\n    const message = {\n        loading : 'icons/spinner.svg',\n        success: 'Спасибо, скоро мы с вами свяжемся',\n        fail: 'Что-то пошло не так...'\n    }\n    forms.forEach(form => bindPostData(form));\n\n    const postData = async (url,data) => {\n        const res = await fetch(url, {\n            method:'POST',\n            headers: {\n                'Content-type': 'application/json'\n            },\n            body: data\n        });\n        return await res.json();\n    }\n\n    function bindPostData (form) {\n        form.addEventListener('submit', (e) => {\n            e.preventDefault();\n\n            const statusMessage = document.createElement('img');\n            statusMessage.src = message.loading;\n            statusMessage.style.cssText = `\n        display: block;\n        margin: 0 auto;`;\n            form.insertAdjacentElement('afterend', statusMessage);\n\n            const formData = new FormData(form);\n\n            const json = JSON.stringify(Object.fromEntries(formData.entries()));\n\n            postData('http://localhost:3000/requests', json)\n                .then(data => {\n                    console.log(data);\n                    showThanksModal(message.success);\n                    statusMessage.remove();\n                })\n                .catch(() => {\n                    showThanksModal(message.fail);\n                })\n                .finally(() => {\n                    form.reset();\n                })\n        })\n    }\n\n    function showThanksModal (message) {\n        const prevModalDialog = document.querySelector('.modal__dialog');\n        prevModalDialog.classList.add('hide');\n        openPopup();\n        const thanksModal = document.createElement('div');\n        thanksModal.classList.add('modal__dialog');\n        thanksModal.innerHTML = `\n      <div class=\"modal__content\">\n        <div class=\"modal__close\" data-close>×</div>\n        <div class=\"modal__title\">${message}</div>\n      </div>`\n        document.querySelector('.modal').append(thanksModal);\n        setTimeout(()=> {\n            thanksModal.remove();\n            prevModalDialog.classList.remove('hide');\n            prevModalDialog.classList.add('show');\n            closePopup();\n        },4000)\n    }\n\n    fetch('http://localhost:3000/menu')\n        .then(data => data.json())\n        .then(res => console.log(res));\n}\nexport default forms;","function modal () {\n    const modal = document.querySelector('.modal');\n    const btnsContactWithUs = document.querySelectorAll('.btn:not(.btn_min)');\n    btnsContactWithUs.forEach(btn => {\n        btn.addEventListener('click', openPopup);\n    })\n    function openPopup () {\n        document.addEventListener('keydown', closePopupEsc);\n        document.addEventListener('click', closePopupClick);\n        modal.classList.add('show');\n        document.body.style.overflow = 'hidden';\n        clearTimeout(modalTimerId);\n    }\n\n    function closePopupClick (evt) {\n        if(evt.target === modal || evt.target.getAttribute('data-close') === ''){\n            closePopup();\n        }\n    }\n\n    function closePopup () {\n        modal.classList.remove('show');\n        document.removeEventListener('keydown', closePopupEsc);\n        document.removeEventListener('click', closePopupClick);\n        document.body.style.overflow = 'scroll';\n    }\n\n    function closePopupEsc (evt) {\n        if(evt.key === 'Escape'){\n            closePopup();\n        }\n    }\n\n    function openModalByScroll () {\n        if(window.scrollY + document.documentElement.clientHeight >= document.documentElement.scrollHeight - 1){\n            openPopup();\n            document.removeEventListener('scroll', openModalByScroll);\n        }\n    }\n    // open modal in 5 sec && when page is scrolled\n    const modalTimerId = window.setTimeout(openPopup, 5000);\n    document.addEventListener('scroll', openModalByScroll)\n}\n\nexport default modal;","import {addZero} from './timer';\nconst regExp = (str) => +str.replace(/\\D/g,'');\nfunction slider () {\n    const nextSlide = document.querySelector('.offer__slider-next'),\n        prevSlide = document.querySelector('.offer__slider-prev'),\n        sliderCurrent = document.querySelector('#current'),\n        sliderTotal = document.querySelector('#total'),\n        slides = document.querySelectorAll('.offer__slide'),\n        slidesWrapper = document.querySelector('.offer__slider-wrapper'),\n        slidesField = document.querySelector('.offer__slider-inner'),\n        width = window.getComputedStyle(slidesWrapper).width;\n    let slideIndex = 1;\n    let offset = 0;\n\n    // Technical functions\n    // make active dot opacity 1\n    const activeDot = (array, indicator) => {\n        array.forEach(dot => dot.style.opacity = '.5');\n        indicator.style.opacity = 1;\n    }\n    // make str to num and delete all letters\n\n\n\n    slidesField.style.width = 100 * slides.length + '%';\n    slides.forEach(slide => slide.style.width = width);\n    slidesField.style.display = 'flex';\n    slidesField.style.transition = '0.5s all';\n    slidesWrapper.style.overflow = 'hidden';\n    sliderCurrent.textContent = addZero(slideIndex);\n    sliderTotal.textContent = addZero(slides.length);\n    nextSlide.addEventListener('click', () => {\n        offset === regExp(width) * (slides.length - 1) ?\n            offset = 0 :\n            offset += regExp(width);\n        slidesField.style.transform = `translateX(-${offset}px)`\n        slideIndex === slides.length ? slideIndex = 1 : slideIndex++;\n        addZero(slideIndex);\n        sliderCurrent.textContent = addZero(slideIndex);\n        activeDot(indicators,indicators[slideIndex-1]);\n    })\n    prevSlide.addEventListener('click', () => {\n        offset === 0 ?\n            offset = regExp(width) * (slides.length - 1) :\n            offset -= regExp(width);\n        slidesField.style.transform = `translateX(-${offset}px)`\n        slideIndex === 1 ? slideIndex = slides.length : slideIndex--;\n        sliderCurrent.textContent = addZero(slideIndex);\n        activeDot(indicators,indicators[slideIndex-1]);\n    })\n    // DOTS on slider\n    // Create a new ordered list element to hold the slider indicators\n    const slider = document.querySelector('.offer__slider'),\n        dots = document.createElement('ol'),\n        indicators = [];\n\n    // Set the slider position to relative\n    slider.style.position = 'relative';\n    // Add a class to the indicator list\n    dots.classList.add('indicators');\n    // Append the indicator list to the slider\n    slider.append(dots);\n\n    // For each slide, create an empty 'li' element, add a 'data-slide-to' attribute and a class for the dot\n    for(let i = 0; i<slides.length; i++){\n        let li = document.createElement('li');\n        li.setAttribute('data-slide-to', i+1);\n        li.classList.add('dot');\n        // Set the opacity of the first dot to 1 and add it to the 'ol' element\n        if(i === 0) li.style.opacity = 1;\n        dots.append(li);\n        indicators.push(li);\n    }\n    // Add event listeners to each dot to update the slide position and dot opacity when clicked\n    indicators.forEach(indicator => {\n        indicator.addEventListener('click', (event) => {\n            const slideIndex = event.target.dataset.slideTo;\n            const slideOffset = +width.replace(/\\D/g,'') * (slideIndex - 1);\n            sliderCurrent.textContent = addZero(slideIndex);\n            slidesField.style.transform = `translateX(-${slideOffset}px)`;\n            activeDot(indicators,indicator);\n        });\n    });\n}\nexport default slider;\nexport {regExp};","function tabs () {\n    const tabs = document.querySelectorAll('.tabheader__item'),\n        tabsContent = document.querySelectorAll('.tabcontent'),\n        tabsParent = document.querySelector('.tabheader__items');\n\n    function hideTabContent() {\n        tabsContent.forEach(item => {\n            item.classList.add('hide');\n            item.classList.remove('show', 'fade');\n        })\n        tabs.forEach(tab => {\n            tab.classList.remove('tabheader__item_active');\n        })\n    }\n\n    function showTabContent(i = 0) {\n        tabsContent[i].classList.add('show', 'fade');\n        tabsContent[i].classList.remove('hide');\n        tabs[i].classList.add('tabheader__item_active');\n    }\n\n    hideTabContent();\n    showTabContent();\n\n\n    tabsParent.addEventListener('click', e => {\n        const target = e.target;\n        if(target.classList.contains('tabheader__item')) {\n            tabs.forEach((tab, i) => {\n                if(target == tab){\n                    hideTabContent();\n                    showTabContent(i);\n                }\n            })\n        }\n    })\n}\nexport default tabs;","function addZero (number) {\n    return number < 10 ? `0${number}` : number;\n}\nfunction timer () {\n    let days = document.querySelector('#days');\n    let hours = document.querySelector('#hours');\n    let minutes = document.querySelector('#minutes');\n    let seconds = document.querySelector('#seconds');\n\n    function formatDuration(duration) {\n        let seconds = Math.floor(duration / 1000);\n        let minutes = Math.floor(seconds / 60);\n        let hours = Math.floor(minutes / 60);\n        let days = Math.floor(hours / 24);\n\n        seconds = seconds % 60;\n        minutes = minutes % 60;\n        hours = hours % 24;\n\n        return {\n            days,\n            hours,\n            minutes,\n            seconds\n        };\n    }\n\n    let intervalID = window.setInterval(remainingTime, 1000);\n    function remainingTime() {\n        const now = new Date();\n        const finish = new Date('2023, 06, 15');\n        const remaining = formatDuration(finish - now);\n        days.textContent = addZero(remaining.days);\n        hours.textContent = addZero(remaining.hours);\n        minutes.textContent = addZero(remaining.minutes);\n        seconds.textContent = addZero(remaining.seconds);\n\n        if (finish - now <= 0) {\n            days.textContent = '00';\n            hours.textContent = '00';\n            seconds.textContent = '00';\n            minutes.textContent = '00';\n            clearInterval(intervalID);\n        }\n    }\n    remainingTime();\n}\nexport {addZero};\nexport default timer;","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import tabs from './modules/tabs.js';\nimport modal from './modules/modal.js';\nimport timer from './modules/timer.js';\nimport cards from './modules/cards.js';\nimport calculator from './modules/calculator.js';\nimport forms from './modules/forms.js';\nimport slider from './modules/slider.js';\nwindow.addEventListener('DOMContentLoaded', () => {\n\n  tabs();\n  modal();\n  timer();\n  cards();\n  calculator();\n  forms();\n  slider();\n})\n"],"names":[],"sourceRoot":""}